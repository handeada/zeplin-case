@use '../../styles/variables' as *;
@use '../../styles/mixins' as *;

// ===========================================
// Button Component - Figma Design System
// States: Default, Hover, Active, Disabled
// ===========================================

.btn {
  @include button-base;
  border-radius: 10px;
  font-size: 18px;
  font-weight: 400;
  letter-spacing: -0.154px;
  line-height: 20px;
  transition: all 200ms ease;

  // ===========================================
  // Size Variants
  // ===========================================
  &--sm {
    padding: 10px 14px;
    font-size: 14px;
  }

  &--md {
    padding: 12px 18px;
    font-size: 16px;
  }

  &--lg {
    padding: 17px 21px;
    font-size: 18px;
  }

  // ===========================================
  // Primary Button (Figma: .ButtonBase)
  // Default: White bg, primary text
  // Hover: Primary bg, white text
  // Active: Primary-light bg, primary border
  // Disabled: Gray bg, gray text
  // ===========================================
  &--primary {
    background-color: color('bg-white');
    color: color('primary');
    border: none;

    &:hover:not(:disabled) {
      background-color: color('primary');
      color: white;
    }

    &:active:not(:disabled) {
      background-color: color('primary-light');
      color: color('primary');
      border: 1px solid color('primary');
    }

    &:disabled {
      background-color: color('gray-disabled');
      color: color('gray-disabled-text');
      cursor: not-allowed;
      opacity: 1;
    }
  }

  // ===========================================
  // Showcase variants for Storybook/Testing
  // ===========================================
  &--primary-default {
    background-color: color('bg-white');
    color: color('primary');
    border: none;
  }

  &--primary-hover {
    background-color: color('primary');
    color: white;
    border: none;
  }

  &--primary-active {
    background-color: color('primary-light');
    color: color('primary');
    border: 1px solid color('primary');
  }

  &--primary-disabled {
    background-color: color('gray-disabled');
    color: color('gray-disabled-text');
    border: none;
    cursor: not-allowed;
    opacity: 1;
  }

  // ===========================================
  // Secondary Button (D2C Green: #a8b95e)
  // ===========================================
  &--secondary {
    background-color: color('bg-white');
    color: color('secondary');
    border: none;

    &:hover:not(:disabled) {
      background-color: color('secondary');
      color: white;
    }

    &:active:not(:disabled) {
      background-color: color('success-light');
      color: color('secondary');
      border: 1px solid color('secondary');
    }

    &:disabled {
      background-color: color('gray-disabled');
      color: color('gray-disabled-text');
      cursor: not-allowed;
      opacity: 1;
    }
  }

  // ===========================================
  // Outline Button
  // ===========================================
  &--outline {
    background-color: transparent;
    color: color('primary');
    border: 1px solid color('primary');

    &:hover:not(:disabled) {
      background-color: color('primary');
      color: white;
    }

    &:active:not(:disabled) {
      background-color: color('primary-light');
      color: color('primary');
    }

    &:disabled {
      background-color: color('gray-disabled');
      color: color('gray-disabled-text');
      border-color: color('gray-disabled');
      cursor: not-allowed;
      opacity: 1;
    }
  }

  // ===========================================
  // Ghost Button (icon buttons)
  // ===========================================
  &--ghost {
    background-color: transparent;
    color: color('text-secondary');
    padding: 8px;
    min-width: 36px;
    min-height: 36px;
    border: none;

    &:hover:not(:disabled) {
      background-color: color('gray-50');
      color: color('text-primary');
    }
  }

  // ===========================================
  // Icon-only Button (circular)
  // Figma: download, search, email icons
  // ===========================================
  &--icon {
    background-color: transparent;
    color: color('text-secondary');
    padding: 18.5px;
    min-width: 55px;
    min-height: 55px;
    border: 1px solid color('gray-300');
    border-radius: 100px;

    &:hover:not(:disabled) {
      background-color: color('gray-50');
      color: color('text-primary');
      border-color: color('primary');
    }

    &:active:not(:disabled) {
      background-color: color('primary-light');
      border-color: color('primary');
    }
  }

  // ===========================================
  // Social Button
  // ===========================================
  &--social {
    background-color: transparent;
    color: color('text-secondary');
    padding: 18.5px;
    min-width: 55px;
    min-height: 55px;
    border-radius: 100px;
    border: 1px solid color('gray-300');

    &:hover:not(:disabled) {
      background-color: color('gray-50');
      color: color('text-primary');
      border-color: color('primary');
    }
  }

  // ===========================================
  // Success Button
  // ===========================================
  &--success {
    background-color: color('success');
    color: white;
    border: none;
    border-radius: 50px;

    &:hover:not(:disabled) {
      background-color: color('secondary-dark');
    }

    &:disabled {
      background-color: color('gray-disabled');
      color: color('gray-disabled-text');
      cursor: not-allowed;
      opacity: 1;
    }
  }

  // ===========================================
  // Error Button
  // ===========================================
  &--error {
    background-color: color('error');
    color: white;
    border: none;
    border-radius: 50px;

    &:hover:not(:disabled) {
      background-color: #9d0006;
    }

    &:disabled {
      background-color: color('gray-disabled');
      color: color('gray-disabled-text');
      cursor: not-allowed;
      opacity: 1;
    }
  }

  // ===========================================
  // Icon styles
  // ===========================================
  &__icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;

    svg {
      width: 18px;
      height: 18px;
    }
  }

  // ===========================================
  // Loading spinner
  // ===========================================
  &__spinner {
    width: 14px;
    height: 14px;
    border: 2px solid transparent;
    border-top-color: currentColor;
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
    margin-right: 8px;
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }
}
