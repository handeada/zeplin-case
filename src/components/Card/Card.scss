@use '../../styles/variables' as *;
@use '../../styles/mixins' as *;

.card {
  @include card-base;
  overflow: hidden;
  transition: box-shadow $transition-base, transform $transition-base;

  &:hover {
    box-shadow: map-get($shadows, 'lg');
  }

  // Variants
  &--default {
    background-color: color('bg-white');
  }

  &--bordered {
    border: 1px solid color('gray-200');
    box-shadow: none;

    &:hover {
      border-color: color('primary-light');
    }
  }

  &--elevated {
    box-shadow: map-get($shadows, 'lg');

    &:hover {
      transform: translateY(-2px);
      box-shadow: map-get($shadows, 'xl');
    }
  }

  // Image
  &__image {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9;
    overflow: hidden;

    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .card__badge {
      position: absolute;
      top: space('3');
      left: space('3');
    }
  }

  // Content
  &__content {
    padding: space('4');
  }

  &__badge--inline {
    margin-bottom: space('2');
  }

  &__title {
    font-size: map-get($font-sizes, 'body');
    font-weight: map-get($font-weights, 'semibold');
    color: color('text-primary');
    margin-bottom: space('2');
    line-height: 1.4;

    a {
      color: inherit;
      text-decoration: none;

      &:hover {
        color: color('primary');
      }
    }
  }

  &__description {
    font-size: map-get($font-sizes, 'small');
    color: color('text-secondary');
    margin-bottom: space('3');
    line-height: 1.5;
  }

  &__meta {
    @include flex-start;
    gap: space('3');
    font-size: map-get($font-sizes, 'small');
    color: color('text-muted');
    margin-bottom: space('2');
  }

  &__authors {
    display: flex;
    flex-wrap: wrap;
    gap: space('2');
    margin-bottom: space('2');
  }

  &__author {
    font-size: map-get($font-sizes, 'small');
    color: color('text-secondary');

    &:not(:last-child)::after {
      content: ',';
    }
  }

  &__date {
    font-size: map-get($font-sizes, 'small');
    color: color('text-muted');
    display: block;
    margin-bottom: space('2');
  }

  &__stats {
    @include flex-start;
    gap: space('4');
    padding-top: space('3');
    border-top: 1px solid color('gray-100');
    margin-top: space('3');
  }

  &__stat {
    @include flex-start;
    gap: space('1');
    font-size: map-get($font-sizes, 'small');
    color: color('text-muted');
  }

  &__stat-icon {
    @include flex-start;
    color: color('gray-400');

    svg {
      width: 16px;
      height: 16px;
    }
  }

  &__actions {
    display: flex;
    gap: space('2');
    margin-top: space('3');
    padding-top: space('3');
    border-top: 1px solid color('gray-100');
  }

  // Sub-components
  &__header {
    padding: space('4');
    border-bottom: 1px solid color('gray-100');
  }

  &__body {
    padding: space('4');
  }

  &__footer {
    padding: space('4');
    border-top: 1px solid color('gray-100');
    background-color: color('gray-50');
  }
}

// Cookie consent card variant
.card--cookie {
  max-width: 400px;
  padding: space('4');

  .card__content {
    padding: 0;
  }

  .card__title {
    font-size: map-get($font-sizes, 'small');
    margin-bottom: space('2');
  }

  .card__description {
    font-size: map-get($font-sizes, 'small');
    margin-bottom: space('3');

    a {
      color: color('primary');
    }
  }

  .card__actions {
    border: none;
    padding-top: 0;
    margin-top: 0;
    justify-content: flex-end;
  }
}
