@use '../../../styles/variables' as *;
@use '../../../styles/mixins' as *;

// ===========================================
// Button Component - Figma Design System
// States: Default, Hover, Active, Disabled
// ===========================================

.btn {
  @include button-base;
  border-radius: radius('lg');
  font-size: map-get($font-sizes, 'lg');
  font-weight: map-get($font-weights, 'regular');
  letter-spacing: -0.154px;
  line-height: 20px;
  transition: all $transition-base;

  // ===========================================
  // Size Variants
  // ===========================================
  &--sm {
    padding: space('2.5') 14px;
    font-size: map-get($font-sizes, 'body');
  }

  &--md {
    padding: 12px 18px;
    font-size: map-get($font-sizes, 'md');
  }

  &--lg {
    padding: 17px 21px;
    font-size: map-get($font-sizes, 'lg');
  }

  // ===========================================
  // Primary Button (Figma: .ButtonBase)
  // Default: White bg, primary text
  // Hover: Primary bg, white text
  // Active: Primary-light bg, primary border
  // Disabled: Gray bg, gray text
  // ===========================================
  &--primary {
    background-color: color('bg-white');
    color: color('primary');
    border: none;

    &:hover:not(:disabled) {
      background-color: color('primary');
      color: white;
    }

    &:active:not(:disabled) {
      background-color: color('primary-light');
      color: color('primary');
      border: 1px solid color('primary');
    }

    &:disabled {
      @include button-disabled;
    }
  }

  // ===========================================
  // Primary Filled Button (Figma variant)
  // Default: Primary bg, white text
  // Hover: Primary-dark bg, white text
  // ===========================================
  &--primary-filled {
    background-color: color('primary');
    color: white;
    padding: 17px 24px 17px 15px;
    border: 1px solid color('gray-300');
    border-radius: 50px;
    font-family: $font-family-base;
    font-size: map-get($font-sizes, 'md-lg');
    font-weight: map-get($font-weights, 'regular');
    line-height: 21px;
    letter-spacing: 0%;

    &:hover:not(:disabled) {
      background-color: color('primary-dark');
      color: white;
      border-color: color('gray-300');
    }

    &:active:not(:disabled) {
      background-color: color('primary-dark');
      color: white;
      border-color: color('gray-300');
    }

    &:disabled {
      @include button-disabled;
    }
  }

  // ===========================================
  // Secondary Button (D2C Green: #a8b95e)
  // ===========================================
  &--secondary {
    background-color: color('bg-white');
    color: color('secondary');
    border: none;

    &:hover:not(:disabled) {
      background-color: color('secondary');
      color: white;
    }

    &:active:not(:disabled) {
      background-color: color('success-light');
      color: color('secondary');
      border: 1px solid color('secondary');
    }

    &:disabled {
      @include button-disabled;
    }
  }

  // ===========================================
  // Secondary Filled Button (Figma variant)
  // Default: Secondary bg (#a8b95e), white text
  // Hover: Secondary-dark bg (#2b3016), white text
  // ===========================================
  &--secondary-filled {
    background-color: color('secondary');
    color: white;
    padding: 17px 24px 17px 15px;
    border: 1px solid color('gray-300');
    border-radius: 50px;
    font-family: $font-family-base;
    font-size: map-get($font-sizes, 'md-lg');
    font-weight: map-get($font-weights, 'regular');
    line-height: 21px;
    letter-spacing: 0%;

    &:hover:not(:disabled) {
      background-color: color('secondary-dark');
      color: white;
      border-color: color('gray-300');
    }

    &:active:not(:disabled) {
      background-color: color('secondary-dark');
      color: white;
      border-color: color('gray-300');
    }

    &:disabled {
      @include button-disabled;
    }
  }

  // ===========================================
  // Outline Button
  // ===========================================
  &--outline {
    background-color: transparent;
    color: color('primary');
    border: 1px solid color('primary');

    &:hover:not(:disabled) {
      background-color: color('primary');
      color: white;
    }

    &:active:not(:disabled) {
      background-color: color('primary-light');
      color: color('primary');
    }

    &:disabled {
      @include button-disabled;
      border-color: color('gray-disabled');
    }
  }

  // ===========================================
  // Ghost Button (icon buttons)
  // ===========================================
  &--ghost {
    background-color: transparent;
    color: color('text-secondary');
    padding: 8px;
    min-width: 36px;
    min-height: 36px;
    border: none;

    &:hover:not(:disabled) {
      background-color: color('gray-50');
      color: color('text-primary');
    }
  }

  // ===========================================
  // Icon-only Button (circular)
  // Figma: download, search, email icons
  // ===========================================
  &--icon {
    background-color: transparent;
    color: color('text-secondary');
    padding: 0;
    width: 55px;
    height: 55px;
    min-width: 55px;
    min-height: 55px;
    display: flex;
    justify-content: center;
    align-items: center;
    border: 1px solid color('gray-300');
    border-radius: 100px;

    &:hover:not(:disabled) {
      background-color: color('gray-50');
      color: color('text-primary');
      border-color: color('primary');
    }

    &:active:not(:disabled) {
      background-color: color('primary-light');
      border-color: color('primary');
    }
  }

  // ===========================================
  // Social Button
  // ===========================================
  &--social {
    background-color: transparent;
    color: color('text-secondary');
    padding: 18.5px;
    min-width: 55px;
    min-height: 55px;
    border-radius: 100px;
    border: 1px solid color('gray-300');

    &:hover:not(:disabled) {
      background-color: color('gray-50');
      color: color('text-primary');
      border-color: color('primary');
    }
  }

  // ===========================================
  // Success Button
  // ===========================================
  &--success {
    background-color: color('success');
    color: white;
    border: none;
    border-radius: radius('full');

    &:hover:not(:disabled) {
      background-color: color('secondary-dark');
    }

    &:disabled {
      @include button-disabled;
    }
  }

  // ===========================================
  // Error Button
  // ===========================================
  &--error {
    background-color: color('error');
    color: white;
    border: none;
    border-radius: radius('full');

    &:hover:not(:disabled) {
      background-color: color('error-dark');
    }

    &:disabled {
      @include button-disabled;
    }
  }

  // ===========================================
  // Icon styles
  // ===========================================
  &__icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;

    &--left {
      margin-right: 8px;
    }

    &--right {
      margin-left: 8px;
    }
  }

  // ===========================================
  // Loading spinner
  // ===========================================
  &__spinner {
    width: 14px;
    height: 14px;
    border: 2px solid transparent;
    border-top-color: currentColor;
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
    margin-right: 8px;
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }
}
